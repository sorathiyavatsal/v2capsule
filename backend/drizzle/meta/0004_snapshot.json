{
  "id": "c96e1bcc-8ce7-4642-8744-67473ab47416",
  "prevId": "f2eba25c-b783-43cc-977e-92b402e17691",
  "version": "5",
  "dialect": "pg",
  "tables": {
    "bucket_cors": {
      "name": "bucket_cors",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "bucket_id": {
          "name": "bucket_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "cors_rules": {
          "name": "cors_rules",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "bucket_cors_bucket_id_buckets_id_fk": {
          "name": "bucket_cors_bucket_id_buckets_id_fk",
          "tableFrom": "bucket_cors",
          "tableTo": "buckets",
          "columnsFrom": [
            "bucket_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "bucket_cors_bucket_id_unique": {
          "name": "bucket_cors_bucket_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "bucket_id"
          ]
        }
      }
    },
    "bucket_policies": {
      "name": "bucket_policies",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "bucket_id": {
          "name": "bucket_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "policy": {
          "name": "policy",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "bucket_policies_bucket_id_buckets_id_fk": {
          "name": "bucket_policies_bucket_id_buckets_id_fk",
          "tableFrom": "bucket_policies",
          "tableTo": "buckets",
          "columnsFrom": [
            "bucket_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "bucket_policies_bucket_id_unique": {
          "name": "bucket_policies_bucket_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "bucket_id"
          ]
        }
      }
    },
    "buckets": {
      "name": "buckets",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "volume_id": {
          "name": "volume_id",
          "type": "serial",
          "primaryKey": false,
          "notNull": true
        },
        "owner_id": {
          "name": "owner_id",
          "type": "serial",
          "primaryKey": false,
          "notNull": true
        },
        "access_key": {
          "name": "access_key",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "secret_key": {
          "name": "secret_key",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "versioning_enabled": {
          "name": "versioning_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "encryption_enabled": {
          "name": "encryption_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "encryption_type": {
          "name": "encryption_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "encryption_key_id": {
          "name": "encryption_key_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "buckets_volume_id_volumes_id_fk": {
          "name": "buckets_volume_id_volumes_id_fk",
          "tableFrom": "buckets",
          "tableTo": "volumes",
          "columnsFrom": [
            "volume_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "buckets_owner_id_users_id_fk": {
          "name": "buckets_owner_id_users_id_fk",
          "tableFrom": "buckets",
          "tableTo": "users",
          "columnsFrom": [
            "owner_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "buckets_name_unique": {
          "name": "buckets_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "name"
          ]
        }
      }
    },
    "event_notifications": {
      "name": "event_notifications",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "bucket_id": {
          "name": "bucket_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "webhook_url": {
          "name": "webhook_url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "event_notifications_bucket_id_buckets_id_fk": {
          "name": "event_notifications_bucket_id_buckets_id_fk",
          "tableFrom": "event_notifications",
          "tableTo": "buckets",
          "columnsFrom": [
            "bucket_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "multipart_uploads": {
      "name": "multipart_uploads",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "upload_id": {
          "name": "upload_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "bucket_id": {
          "name": "bucket_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "object_key": {
          "name": "object_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "initiated_at": {
          "name": "initiated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "metadata": {
          "name": "metadata",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "encryption_config": {
          "name": "encryption_config",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "multipart_uploads_bucket_id_buckets_id_fk": {
          "name": "multipart_uploads_bucket_id_buckets_id_fk",
          "tableFrom": "multipart_uploads",
          "tableTo": "buckets",
          "columnsFrom": [
            "bucket_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "multipart_uploads_upload_id_unique": {
          "name": "multipart_uploads_upload_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "upload_id"
          ]
        }
      }
    },
    "object_locations": {
      "name": "object_locations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "bucket_id": {
          "name": "bucket_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "object_key": {
          "name": "object_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "volume_id": {
          "name": "volume_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "file_path": {
          "name": "file_path",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "size": {
          "name": "size",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "version_id": {
          "name": "version_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_latest": {
          "name": "is_latest",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "metadata": {
          "name": "metadata",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "content_type": {
          "name": "content_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "etag": {
          "name": "etag",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "encryption_metadata": {
          "name": "encryption_metadata",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_object_locations_bucket_key": {
          "name": "idx_object_locations_bucket_key",
          "columns": [
            "bucket_id",
            "object_key"
          ],
          "isUnique": false
        },
        "idx_object_locations_volume": {
          "name": "idx_object_locations_volume",
          "columns": [
            "volume_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "object_locations_bucket_id_buckets_id_fk": {
          "name": "object_locations_bucket_id_buckets_id_fk",
          "tableFrom": "object_locations",
          "tableTo": "buckets",
          "columnsFrom": [
            "bucket_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "object_locations_volume_id_volumes_id_fk": {
          "name": "object_locations_volume_id_volumes_id_fk",
          "tableFrom": "object_locations",
          "tableTo": "volumes",
          "columnsFrom": [
            "volume_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "object_versions": {
      "name": "object_versions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "bucket_id": {
          "name": "bucket_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "key": {
          "name": "key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "version_id": {
          "name": "version_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "location_id": {
          "name": "location_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "is_latest": {
          "name": "is_latest",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_delete_marker": {
          "name": "is_delete_marker",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "size": {
          "name": "size",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "etag": {
          "name": "etag",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "bucket_key_idx": {
          "name": "bucket_key_idx",
          "columns": [
            "bucket_id",
            "key"
          ],
          "isUnique": false
        },
        "version_id_idx": {
          "name": "version_id_idx",
          "columns": [
            "version_id"
          ],
          "isUnique": false
        },
        "is_latest_idx": {
          "name": "is_latest_idx",
          "columns": [
            "is_latest"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "object_versions_bucket_id_buckets_id_fk": {
          "name": "object_versions_bucket_id_buckets_id_fk",
          "tableFrom": "object_versions",
          "tableTo": "buckets",
          "columnsFrom": [
            "bucket_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "object_versions_location_id_object_locations_id_fk": {
          "name": "object_versions_location_id_object_locations_id_fk",
          "tableFrom": "object_versions",
          "tableTo": "object_locations",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "object_versions_version_id_unique": {
          "name": "object_versions_version_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "version_id"
          ]
        }
      }
    },
    "upload_parts": {
      "name": "upload_parts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "upload_id": {
          "name": "upload_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "part_number": {
          "name": "part_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "etag": {
          "name": "etag",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "size": {
          "name": "size",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "file_path": {
          "name": "file_path",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "uploaded_at": {
          "name": "uploaded_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_upload_parts_upload_id_part_number": {
          "name": "idx_upload_parts_upload_id_part_number",
          "columns": [
            "upload_id",
            "part_number"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "upload_parts_upload_id_multipart_uploads_upload_id_fk": {
          "name": "upload_parts_upload_id_multipart_uploads_upload_id_fk",
          "tableFrom": "upload_parts",
          "tableTo": "multipart_uploads",
          "columnsFrom": [
            "upload_id"
          ],
          "columnsTo": [
            "upload_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "password": {
          "name": "password",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "full_name": {
          "name": "full_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'user'"
        },
        "access_key": {
          "name": "access_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "secret_key": {
          "name": "secret_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_verified": {
          "name": "is_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "verification_token": {
          "name": "verification_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_email_unique": {
          "name": "users_email_unique",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        },
        "users_access_key_unique": {
          "name": "users_access_key_unique",
          "nullsNotDistinct": false,
          "columns": [
            "access_key"
          ]
        }
      }
    },
    "volumes": {
      "name": "volumes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "path": {
          "name": "path",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "capacity": {
          "name": "capacity",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "used": {
          "name": "used",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "is_default": {
          "name": "is_default",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "volumes_name_unique": {
          "name": "volumes_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "name"
          ]
        }
      }
    }
  },
  "enums": {},
  "schemas": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}